(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0bccf94f"],{"09ec":function(e,t,a){"use strict";var r=a("c929"),o=a.n(r);o.a},"17c2":function(e,t,a){"use strict";var r=a("d74f"),o=a.n(r);o.a},"1b62":function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return o}));var r={data:function(){return{form:{},formLabelWidth:"100px"}},methods:{cancelHandle:function(){this.$emit("cancelHandle")},confirmHandle:function(){this.$emit("confirmHandle",this.form)}}},o={methods:{handleAdd:function(){this.$emit("handleAdd","新增")},handleView:function(e){this.$emit("handleView","查看",e)},handleEdit:function(e){this.$emit("handleEdit","编辑",e)}}}},"333d":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[a("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},o=[];a("c5f6");Math.easeInOutQuad=function(e,t,a,r){return e/=r/2,e<1?a/2*e*e+t:(e--,-a/2*(e*(e-2)-1)+t)};var l=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function i(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function s(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function n(e,t,a){var r=s(),o=e-r,n=20,u=0;t="undefined"===typeof t?500:t;var d=function e(){u+=n;var s=Math.easeInOutQuad(u,r,o,t);i(s),u<t?l(e):a&&"function"===typeof a&&a()};d()}var u={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:pageNo",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:pageSize",e)}}},methods:{handleSizeChange:function(e){console.log("pageSize1:",e,"pageNo1",this.currentPage),this.$emit("pagination",{pageNo:this.currentPage,pageSize:e}),this.autoScroll&&n(0,800)},handleCurrentChange:function(e){console.log("pageSize2:",this.pageSize,"pageNo2",e),this.$emit("pagination",{pageNo:e,pageSize:this.pageSize}),this.autoScroll&&n(0,800)}}},d=u,c=(a("09ec"),a("2877")),m=Object(c["a"])(d,r,o,!1,null,"c0d46590",null);t["a"]=m.exports},"60fe":function(e,t,a){"use strict";a.d(t,"f",(function(){return o})),a.d(t,"r",(function(){return l})),a.d(t,"o",(function(){return i})),a.d(t,"a",(function(){return s})),a.d(t,"e",(function(){return n})),a.d(t,"h",(function(){return u})),a.d(t,"g",(function(){return d})),a.d(t,"b",(function(){return c})),a.d(t,"n",(function(){return m})),a.d(t,"l",(function(){return f})),a.d(t,"k",(function(){return p})),a.d(t,"i",(function(){return b})),a.d(t,"j",(function(){return v})),a.d(t,"d",(function(){return h})),a.d(t,"c",(function(){return g})),a.d(t,"p",(function(){return w})),a.d(t,"q",(function(){return _})),a.d(t,"m",(function(){return C}));var r=a("b3f4"),o={disabledDate:function(e){return e.getTime()>Date.now()},shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},l=[{value:"0",label:"公司"},{value:"1",label:"个人"}],i=[{value:"0",label:"否"},{value:"1",label:"是"}],s="0000",n=[{value:"0",label:"门诊"},{value:"1",label:"住院"}];function u(e){var t={codeType:"city",parentValue:e};return new Promise((function(e,a){Object(r["c"])(t).then((function(t){return t?e(t.codeData):a(!1)}))}))}function d(e){var t={codeType:"area",parentValue:e};return new Promise((function(e,a){Object(r["c"])(t).then((function(t){return t?e(t.codeData):a(!1)}))}))}var c="330000",m=[{value:"1",label:"成功"},{value:"2",label:"失败"}],f=[{value:"1",label:"发起方请求报文"},{value:"2",label:"内部请求转化报文"},{value:"3",label:"内部请求响应报文"},{value:"4",label:"发起方请求响应报文"},{value:"5",label:"内部发起请求报文"},{value:"6",label:"内部发起响应报文"},{value:"其它",label:"其它"}],p=[{value:"1",label:"健康调查"},{value:"2",label:"就诊核实"},{value:"3",label:"大病核实"}],b=[{value:"0",label:"授权文件"},{value:"9",label:"其他"}],v=[{value:"N",label:"有效"},{value:"Y",label:"无效"}],h=[{value:"0",label:"临时状态"},{value:"1",label:"处理中"},{value:"2",label:"处理完成"},{value:"3",label:"处理失败"}],g=[{value:"0",label:"异步"},{value:"1",label:"同步"}],w=[{value:"0",label:"待处理"},{value:"1",label:"处理中"},{value:"2",label:"处理成功"},{value:"3",label:"推送成功"},{value:"10",label:"调用失败"},{value:"21",label:"处理失败"},{value:"31",label:"推送失败"}],_=[{value:"DISCHARGE",label:"出院登记交易"},{value:"FEEDETAIL",label:"住院费用明细交易"},{value:"INSPECT",label:"住院检查检验报告交易"},{value:"LIB",label:"住院实验报告交易"},{value:"MZDETAIL",label:"门诊实时交易"},{value:"SETTLE",label:"住院结算信息交易"},{value:"SUMMARY",label:"病例信息交易"}],C=[{value:"1",label:"门诊"},{value:"2",label:"住院"}]},c929:function(e,t,a){},ca90:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container user-management"},[a("search-user"),e._v(" "),a("user-list",{on:{handleAdd:e.showUser,handleView:e.showUser,handleEdit:e.showUser}}),e._v(" "),e.dialogVisible?a("user-dialog",{attrs:{"dialog-visible":e.dialogVisible,config:e.userConfig},on:{cancelHandle:e.cancelHandle}}):e._e()],1)},o=[],l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.condition}},[a("el-form-item",{attrs:{label:"用户代码"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.condition.userCode,callback:function(t){e.$set(e.condition,"userCode",t)},expression:"condition.userCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户名称"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.condition.userName,callback:function(t){e.$set(e.condition,"userName",t)},expression:"condition.userName"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.onSearch}},[e._v("查询")])],1)],1)},i=[],s=a("d8ad"),n={name:"SearchUser",data:function(){return{condition:{}}},methods:{onSearch:function(){s["a"].$emit("search",this.condition)}}},u=n,d=a("2877"),c=Object(d["a"])(u,l,i,!1,null,null,null),m=c.exports,f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"mb-20",staticStyle:{"margin-bottom":"20px"}},[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["coreUserList:add"],expression:"['coreUserList:add']"}],attrs:{icon:"el-icon-circle-plus-outline",type:"primary"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-table",{ref:"multipleTable",attrs:{data:e.data,border:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"index",label:"序号",align:"center",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userCode",label:"用户代码",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userName",label:"用户名称",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"age",label:"年龄",align:"center",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"手机号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"email",label:"邮箱"}}),e._v(" "),a("el-table-column",{attrs:{label:"用户类型",prop:"userType"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("userType")(t.row.userType)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作","min-width":"120",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleView(t.row)}}},[e._v("查看")]),e._v(" "),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["coreUserList:update"],expression:"['coreUserList:update']"}],attrs:{type:"text"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["coreUserList:delete"],expression:"['coreUserList:delete']"}],attrs:{type:"text"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination-container"},[a("pagination",{attrs:{total:e.total,page:e.listQuery.pageNo,limit:e.listQuery.pageSize},on:{"update:page":function(t){return e.$set(e.listQuery,"pageNo",t)},"update:limit":function(t){return e.$set(e.listQuery,"pageSize",t)},pagination:e.getList}})],1)],1)},p=[],b=a("db72"),v=a("1b62"),h=a("b3f4"),g=a("333d"),w={name:"UserList",components:{Pagination:g["a"]},mixins:[v["b"]],data:function(){return{multipleSelection:[],data:[],listQuery:{pageNo:1,pageSize:10},total:0}},created:function(){var e=this;s["a"].$on("refreshList",(function(){e.getList()})),s["a"].$on("search",(function(t){var a=Object(b["a"])({},e.listQuery,{},t);e.getList(a)}))},mounted:function(){this.getList()},methods:{getList:function(e){var t=this;Object(h["e"])(e||this.listQuery).then((function(e){t.total=e.resultObj.totalCount,t.data=e.resultObj.list&&e.resultObj.list}))},handleAdd:function(){this.$emit("handleAdd","新增")},handleDelete:function(e){var t=this;this.$Msgbox.$confirm({text:"此操作将永久删除用户".concat(e.userName,", 是否继续?")}).then((function(){t.deleteFun({userId:e.userId})}))},deleteFun:function(e){var t=this;Object(h["b"])(e).then((function(e){"0000"===e.resultCode&&(t.$message({type:"success",message:e.resultMsg}),t.getList())}))},handleSelectionChange:function(e){this.multipleSelection=e}}},_=w,C=Object(d["a"])(_,f,p,!1,null,null,null),k=C.exports,S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user-dialog-wrapper"},[a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"},{name:"drag-resize",rawName:"v-drag-resize"}],attrs:{"close-on-click-modal":!1,title:e.config.title,visible:e.dialogVisible,width:"80%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"dataForm",attrs:{model:e.form,inline:"",rules:e.formRules,"label-width":"180px"}},[a("h3",[e._v("基本信息")]),e._v(" "),a("el-form-item",{attrs:{label:"用户代码",prop:"userCode"}},[a("el-input",{attrs:{disabled:e.isShow},model:{value:e.form.userCode,callback:function(t){e.$set(e.form,"userCode",t)},expression:"form.userCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户名称",prop:"userName"}},[a("el-input",{attrs:{disabled:e.isShow},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{type:e.isShow?"text":"password",disabled:e.isShow},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"确认密码",prop:"confirmPassword"}},[a("el-input",{attrs:{type:e.isShow?"text":"password",disabled:e.isShow},model:{value:e.form.confirmPassword,callback:function(t){e.$set(e.form,"confirmPassword",t)},expression:"form.confirmPassword"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否为共享账号",prop:"shareFlag"}},[a("el-select",{attrs:{value:"",disabled:e.isShow},model:{value:e.form.shareFlag,callback:function(t){e.$set(e.form,"shareFlag",t)},expression:"form.shareFlag"}},e._l(e.shareFlagOpt,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"共享数量",prop:"shareNum",rules:e.isShareFlag?e.shareNum:null}},[a("el-input",{attrs:{disabled:e.isShow},model:{value:e.form.shareNum,callback:function(t){e.$set(e.form,"shareNum",t)},expression:"form.shareNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否动态令牌",prop:"sdkFlag"}},[a("el-select",{attrs:{value:"",disabled:e.isShow},model:{value:e.form.sdkFlag,callback:function(t){e.$set(e.form,"sdkFlag",t)},expression:"form.sdkFlag"}},[a("el-option",{attrs:{label:"否",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"是",value:"1"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号码",prop:"mobile"}},[a("el-input",{attrs:{disabled:e.isShow},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"机构代码",prop:"comCode"}},[a("el-input",{attrs:{disabled:e.isShow},model:{value:e.form.comCode,callback:function(t){e.$set(e.form,"comCode",t)},expression:"form.comCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"生效状态",prop:"validStatus"}},[a("el-select",{attrs:{value:"",disabled:e.isShow},model:{value:e.form.validStatus,callback:function(t){e.$set(e.form,"validStatus",t)},expression:"form.validStatus"}},[a("el-option",{attrs:{label:"生效",value:"Y"}}),e._v(" "),a("el-option",{attrs:{label:"失效",value:"N"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"密码失效时间",prop:"pwdExpireDate"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","picker-options":e.pickerOptions,disabled:e.isShow},model:{value:e.form.pwdExpireDate,callback:function(t){e.$set(e.form,"pwdExpireDate",t)},expression:"form.pwdExpireDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{disabled:e.isShow},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),e._v(" "),a("el-divider"),e._v(" "),a("el-form-item",{attrs:{label:"用户类型",prop:"userType"}},[a("el-select",{attrs:{value:"",disabled:e.isShow},model:{value:e.form.userType,callback:function(t){e.$set(e.form,"userType",t)},expression:"form.userType"}},e._l(e.userTypeOpt,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),"0"===e.form.userType?a("div",[a("h3",[e._v("公司信息")]),e._v(" "),a("el-form-item",{attrs:{label:"机构总代码",prop:"headComCode"}},[a("el-input",{attrs:{disabled:e.isShow},model:{value:e.form.headComCode,callback:function(t){e.$set(e.form,"headComCode",t)},expression:"form.headComCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属保险公司省级代码",prop:"proviceComCode"}},[a("el-input",{attrs:{disabled:e.isShow},model:{value:e.form.proviceComCode,callback:function(t){e.$set(e.form,"proviceComCode",t)},expression:"form.proviceComCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属保险公司分支机构代码",prop:"cityComCode"}},[a("el-input",{attrs:{disabled:e.isShow},model:{value:e.form.cityComCode,callback:function(t){e.$set(e.form,"cityComCode",t)},expression:"form.cityComCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属保险公司分支机构名称",prop:"cityComName"}},[a("el-input",{attrs:{disabled:e.isShow},model:{value:e.form.cityComName,callback:function(t){e.$set(e.form,"cityComName",t)},expression:"form.cityComName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"办公电话号码",prop:"officePhone"}},[a("el-input",{attrs:{disabled:e.isShow},model:{value:e.form.officePhone,callback:function(t){e.$set(e.form,"officePhone",t)},expression:"form.officePhone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"传真号码",prop:"faxNumber"}},[a("el-input",{attrs:{disabled:e.isShow},model:{value:e.form.faxNumber,callback:function(t){e.$set(e.form,"faxNumber",t)},expression:"form.faxNumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱地址",prop:"email"}},[a("el-input",{attrs:{disabled:e.isShow},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮寄地址",prop:"postAddress"}},[a("el-input",{attrs:{disabled:e.isShow},model:{value:e.form.postAddress,callback:function(t){e.$set(e.form,"postAddress",t)},expression:"form.postAddress"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮政编码",prop:"postCode"}},[a("el-input",{attrs:{disabled:e.isShow},model:{value:e.form.postCode,callback:function(t){e.$set(e.form,"postCode",t)},expression:"form.postCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"地址中文名称",prop:"addressCname"}},[a("el-input",{attrs:{disabled:e.isShow},model:{value:e.form.addressCname,callback:function(t){e.$set(e.form,"addressCname",t)},expression:"form.addressCname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"地址英文名称",prop:"addressEname"}},[a("el-input",{attrs:{disabled:e.isShow},model:{value:e.form.addressEname,callback:function(t){e.$set(e.form,"addressEname",t)},expression:"form.addressEname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"资信等级",prop:"creditLevel"}},[a("el-input",{attrs:{disabled:e.isShow},model:{value:e.form.creditLevel,callback:function(t){e.$set(e.form,"creditLevel",t)},expression:"form.creditLevel"}})],1)],1):e._e(),e._v(" "),"1"===e.form.userType?a("div",[a("h3",[e._v("个人信息")]),e._v(" "),a("el-form-item",{attrs:{label:"姓名",prop:"personName"}},[a("el-input",{attrs:{disabled:e.isShow},model:{value:e.form.personName,callback:function(t){e.$set(e.form,"personName",t)},expression:"form.personName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别",prop:"sex"}},[a("el-select",{attrs:{value:"",disabled:e.isShow},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[a("el-option",{attrs:{label:"男",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"女",value:"1"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"出生日期",prop:"birthDate"}},[a("el-date-picker",{attrs:{disabled:e.isShow,type:"date",placeholder:"选择日期"},model:{value:e.form.birthDate,callback:function(t){e.$set(e.form,"birthDate",t)},expression:"form.birthDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"年龄",prop:"age"}},[a("el-input",{attrs:{disabled:e.isShow},model:{value:e.form.age,callback:function(t){e.$set(e.form,"age",t)},expression:"form.age"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"健康状况",prop:"health"}},[a("el-input",{attrs:{disabled:e.isShow},model:{value:e.form.health,callback:function(t){e.$set(e.form,"health",t)},expression:"form.health"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"职业代码",prop:"occuptationCode"}},[a("el-input",{attrs:{disabled:e.isShow},model:{value:e.form.occuptationCode,callback:function(t){e.$set(e.form,"occuptationCode",t)},expression:"form.occuptationCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"学历代码",prop:"educationCode"}},[a("el-input",{attrs:{disabled:e.isShow},model:{value:e.form.educationCode,callback:function(t){e.$set(e.form,"educationCode",t)},expression:"form.educationCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工作单位",prop:"unit"}},[a("el-input",{attrs:{disabled:e.isShow},model:{value:e.form.unit,callback:function(t){e.$set(e.form,"unit",t)},expression:"form.unit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"单位地址",prop:"unitAddr"}},[a("el-input",{attrs:{disabled:e.isShow},model:{value:e.form.unitAddr,callback:function(t){e.$set(e.form,"unitAddr",t)},expression:"form.unitAddr"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"帐号",prop:"bank"}},[a("el-input",{attrs:{disabled:e.isShow},model:{value:e.form.bank,callback:function(t){e.$set(e.form,"bank",t)},expression:"form.bank"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"IP",prop:"ip"}},[a("el-input",{attrs:{disabled:e.isShow},model:{value:e.form.ip,callback:function(t){e.$set(e.form,"ip",t)},expression:"form.ip"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"标志字段",prop:"remark"}},[a("el-input",{attrs:{disabled:e.isShow},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1):e._e(),e._v(" "),a("el-divider"),e._v(" "),a("el-form-item",{attrs:{label:"角色选择",prop:"gradeId"}},[a("el-select",{attrs:{disabled:e.isShow,placeholder:"请选择",value:""},model:{value:e.form.gradeId,callback:function(t){e.$set(e.form,"gradeId",t)},expression:"form.gradeId"}},e._l(e.roles,(function(e,t){return a("el-option",{key:t,attrs:{label:e.codeName,value:e.codeCode}})})),1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.handleClose}},[e._v("取 消")]),e._v(" "),e.isShow?e._e():a("el-button",{attrs:{type:"primary"},on:{click:e.saveDataForm}},[e._v("确 定")])],1)],1)],1)},x=[],$=(a("3b2b"),a("60fe")),y=a("61f7"),N=a("90c5"),T={name:"MenuTemplate",mixins:[v["a"]],props:{config:{type:Object,default:function(){}},dialogVisible:{type:Boolean,default:!1}},data:function(){var e=this,t=function(t,a,r){a!==e.form.password?r("两次输入密码不一致请重新输入"):r()},a=function(t,a,r){var o={lW:"[a-z]",uW:"[A-Z]",nW:"[0-9]",sW:"[\\u0020-\\u002F\\u003A-\\u0040\\u005B-\\u0060\\u007B-\\u007E]"};function l(e,t){var a=new RegExp(t);return a.test(e)}if(!a)return r("请输入密码"),!1;if(a.length<6)return r("您的密码长度太短"),!1;var i={l:l(a,o.lW),u:l(a,o.uW),n:l(a,o.nW),s:l(a,o.sW)};if(!(i.l&&i.u&&i.n||i.l&&i.u&&i.s||i.s&&i.u&&i.n||i.s&&i.l&&i.n))return e.form.confirmPassword&&a!==e.form.confirmPassword?(r("两次输入密码不一致请重新输入"),!1):(r("由大于6位字母、数字及其特殊字符组成"),!1);r()};return{form:{userName:"",comCode:"",password:"",confirmPassword:""},userTypeOpt:$["r"],shareFlagOpt:$["o"],roles:[],shareNum:[{required:!0,trigger:"blur",message:"共享数量必填"}],formRules:{userCode:[{required:!0,trigger:"blur",validator:y["g"]}],userName:[{required:!0,trigger:"blur",message:"用户姓名未填写，请填写用户姓名"}],password:[{required:!0,trigger:"blur",validator:a}],confirmPassword:[{required:!0,trigger:"blur",validator:t}],shareFlag:[{required:!0,trigger:"blur",message:"共享账号必填"}],mobile:[{required:!0,trigger:"blur",validator:y["b"]}],comCode:[{required:!0,trigger:"blur",message:"机构代码必填"}],userType:[{required:!0,trigger:"blur",message:"用户类型必填"}],email:[{required:!0,trigger:"blur",validator:y["a"]}],validStatus:[{required:!0,trigger:"blur",message:"生效状态必填"}],pwdExpireDate:[{required:!0,trigger:"blur",message:"密码失效时间必填"}]},pickerOptions:{disabledDate:function(e){return e.getTime()<Date.now()-864e5}}}},computed:{isShow:function(){return"查看用户"===this.config.title},isNew:function(){return"新增用户"===this.config.title},isShareFlag:function(){return"1"===this.form.shareFlag}},created:function(){if(this.roleList(),"新增用户"===this.config.title)this.form={gradeId:[]};else if("查看用户"===this.config.title)this.$refs["dataForm"]&&this.$refs["dataForm"].clearValidate(),this.form=this.config.form;else{var e=this.config.form.gradeId?this.config.form.gradeId:"";this.form=this.config.form&&Object(b["a"])({},this.config.form,{gradeId:e}),this.form.password=Object(N["a"])(this.config.form.password)}},methods:{roleList:function(){var e=this,t={codeType:"gradeClass"};Object(h["c"])(t).then((function(t){e.roles=t.codeData}))},handleClose:function(){this.$refs["dataForm"]&&this.$refs["dataForm"].resetFields(),this.form={gradeId:""},this.$emit("cancelHandle")},saveDataForm:function(){var e=this;this.$refs["dataForm"].validate((function(t){var a;t&&(a=e.isNew?h["a"]:h["d"],e.form.password=Object(N["b"])(e.form.password),e.form.confirmPassword=null,a(e.form).then((function(t){"0000"===t.resultCode?(e.$message({message:t.resultMsg,type:"success"}),e.handleClose(),s["a"].$emit("refreshList")):e.$message({message:t.resultMsg,type:"error"})})).catch((function(t){e.$message({message:t.resultMsg,type:"error"})})))}))}}},D=T,E=(a("17c2"),Object(d["a"])(D,S,x,!1,null,null,null)),F=E.exports,z={name:"CoreUserList",components:{SearchUser:m,UserList:k,UserDialog:F},data:function(){return{userConfig:{title:"添加用户"},changePwdOption:{title:"修改用户密码"},dialogVisible:!1}},methods:{showUser:function(e,t){this.dialogVisible=!0,this.userConfig={form:t,title:"".concat(e,"用户")}},cancelHandle:function(){this.dialogVisible=!1}}},L=z,O=Object(d["a"])(L,r,o,!1,null,null,null);t["default"]=O.exports},d74f:function(e,t,a){}}]);